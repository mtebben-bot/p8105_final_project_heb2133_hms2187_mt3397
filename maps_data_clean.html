<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>World Maps</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/yeti.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.2/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.9.2.1/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-1.52.2/plotly-latest.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 45px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h2 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h3 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h4 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h5 {
  padding-top: 50px;
  margin-top: -50px;
}
.section h6 {
  padding-top: 50px;
  margin-top: -50px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="index.html">About</a>
</li>
<li>
  <a href="Linear-Analysis.html">Linear Analyses</a>
</li>
<li>
  <a href="nordic_subanalysis.html">Nordic Analyses</a>
</li>
<li>
  <a href="maps_data_clean.html">World Maps</a>
</li>
<li>
  <a href="top_5_bottom_5.html">Top 5 Bottom 5</a>
</li>
<li>
  <a href="mailto:&lt;hms2187@cumc.columbia.edu&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://github.com/mtebben-bot/p8105_final_project_heb2133_hms2187_mt3397">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">World Maps</h1>

</div>


<pre class="r"><code>#Plotly has master datasets that contain three-digit ISO codes for each country. We need to merge the ISO codes in with our dataset in order to produce a map in plotly. This requires us to read in the master dataset and mutate so that the variable name for countries matches the variable name in our dataset. We also selected just the countries and the ISO codes, as we are not interested in any of the rest of the variables.

df &lt;- read.csv(&quot;https://raw.githubusercontent.com/plotly/datasets/master/2014_world_gdp_with_codes.csv&quot;) %&gt;% 
  janitor::clean_names() %&gt;% 
  mutate(countries = country) %&gt;% 
  select(countries, code)

#We noticed that some countries that have data in our merged dataset were not appearing in the maps and realized that there is a difference in the way certain country names are written. To correct this, we use the function anti_join to find which countries in our merged dataset are not corresponding with countries in the master plotly dataset for the world map. I saved this as a dataframe to be able to quickly refer to the list.

recode_df = anti_join(merged_df, df)

#Now, we must find how these countries are labeled in the master plotly dataset.
  
df %&gt;% 
filter(str_detect(countries, c(&quot;Congo&quot;, &quot;Gambia&quot;, &quot;Ivo&quot;, &quot;Burma&quot;, &quot;Cyprus&quot;, &quot;Korea&quot;, &quot;Trinidad&quot;, &quot;United&quot;, 
                             &quot;Bahamas&quot;, &quot;Brunei&quot;, &quot;Verde&quot;, &quot;Kyrgy&quot;)))</code></pre>
<pre><code>##       countries code
## 1    Cabo Verde  CPV
## 2   Gambia, The  GMB
## 3 United States  USA</code></pre>
<pre class="r"><code>#This code helped us find the names for both the Republic of Congo and the Democratic Republic of the Congo in the plotly dataset.
df %&gt;% 
  filter(str_detect(countries, &quot;Congo&quot;))</code></pre>
<pre><code>##                           countries code
## 1 Congo, Democratic Republic of the  COD
## 2            Congo, Republic of the  COG</code></pre>
<pre class="r"><code>df %&gt;% 
  filter(str_detect(countries, &quot;Gambia&quot;))</code></pre>
<pre><code>##     countries code
## 1 Gambia, The  GMB</code></pre>
<pre class="r"><code># Since Ivory Coast can also be referred to as Cote D&#39;Ivoire, we searched for &quot;Ivo&quot; to try to yield either result.
df %&gt;% 
  filter(str_detect(countries, &quot;Ivo&quot;))</code></pre>
<pre><code>##       countries code
## 1 Cote d&#39;Ivoire  CIV</code></pre>
<pre class="r"><code>#Upon first search for Myanmar, no results were found. However, Myanmar is sometimes referred to as Burma, so I searched for Burma as well, which gave us a result.
df %&gt;% 
  filter(str_detect(countries, &quot;Burma&quot;))</code></pre>
<pre><code>##   countries code
## 1     Burma  MMR</code></pre>
<pre class="r"><code>df %&gt;% 
  filter(str_detect(countries, &quot;Cyprus&quot;))</code></pre>
<pre><code>##   countries code
## 1    Cyprus  CYP</code></pre>
<pre class="r"><code>#Upon searching, there was no label for Palestine in the plotly master dataset.

df %&gt;% 
  filter(str_detect(countries, &quot;Korea&quot;))</code></pre>
<pre><code>##      countries code
## 1 Korea, North  PRK
## 2 Korea, South  KOR</code></pre>
<pre class="r"><code>df %&gt;% 
  filter(str_detect(countries, &quot;Trinidad&quot;))</code></pre>
<pre><code>##             countries code
## 1 Trinidad and Tobago  TTO</code></pre>
<pre class="r"><code>#This code helped us find the plotly master dataset names for the UK and the USA.
df %&gt;% 
  filter(str_detect(countries, &quot;United&quot;))</code></pre>
<pre><code>##              countries code
## 1 United Arab Emirates  ARE
## 2       United Kingdom  GBR
## 3        United States  USA</code></pre>
<pre class="r"><code>df %&gt;% 
  filter(str_detect(countries, &quot;Bahamas&quot;))</code></pre>
<pre><code>##      countries code
## 1 Bahamas, The  BHM</code></pre>
<pre class="r"><code>df %&gt;% 
  filter(str_detect(countries, &quot;Brunei&quot;))</code></pre>
<pre><code>##   countries code
## 1    Brunei  BRN</code></pre>
<pre class="r"><code>#Since Cape Verde is also known as Cabo Verde, we searched only for Verde.
df %&gt;% 
  filter(str_detect(countries, &quot;Verde&quot;))</code></pre>
<pre><code>##    countries code
## 1 Cabo Verde  CPV</code></pre>
<pre class="r"><code>#We were not sure why there was a missing value for Kyrgyzstan at first. We realized that some sources keep the s while others do not, so we searched only for &quot;Kyrgy&quot;.
df %&gt;% 
  filter(str_detect(countries, &quot;Kyrgy&quot;))</code></pre>
<pre><code>##    countries code
## 1 Kyrgyzstan  KGZ</code></pre>
<pre class="r"><code>#Now we need to overwrite our merged dataset with the recoded country names to ensure that the merge with the plotly dataset will work properly.

merged_df = merged_df %&gt;% 
  mutate(countries = recode(countries, &quot;Democratic Republic of the Congo&quot; = &quot;Congo, Democratic Republic of the&quot;, 
  &quot;Gambia&quot; = &quot;Gambia, The&quot;, &quot;Ivory Coast&quot; = &quot;Cote d&#39;Ivoire&quot;, &quot;Myanmar&quot; = &quot;Burma&quot;, &quot;North Cyprus&quot; = &quot;Cyprus&quot;, 
  &quot;Republic of the Congo&quot; = &quot;Congo, Republic of the&quot;, &quot;South Korea&quot; = &quot;Korea, South&quot;, 
  &quot;Trinidad&quot; = &quot;Trinidad and Tobago&quot;, &quot;UK&quot; = &quot;United Kingdom&quot;, &quot;USA&quot; = &quot;United States&quot;, &quot;Bahamas&quot; = &quot;Bahamas, The&quot;,
  &quot;Brunei Darussalam&quot; = &quot;Brunei&quot;, &quot;Cape Verde&quot; = &quot;Cabo Verde&quot;, &quot;Kyrgyztan&quot; = &quot;Kyrgyzstan&quot;) 
         )

#We are doing a left_join to keep only the countries in our merged dataset rather than having a bunch of NAs in the map creation step.

map_df = left_join(merged_df, df)</code></pre>
<pre class="r"><code>whr_map =
  plot_geo(map_df) %&gt;% 
  add_trace(z = ~world_happiness_score, text = ~countries, locations = ~code, color = ~world_happiness_score,
            colors = &#39;viridis&#39;) %&gt;% 
 layout(title = &quot;Map of World Happiness Scores&quot;) %&gt;% 
  colorbar(title = &quot;World Happiness Score&quot;)</code></pre>
<pre><code>## Warning: Ignoring 19 observations</code></pre>
<pre><code>## Warning: `arrange_()` is deprecated as of dplyr 0.7.0.
## Please use `arrange()` instead.
## See vignette(&#39;programming&#39;) for more help
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_warnings()` to see where this warning was generated.</code></pre>
<pre class="r"><code>whr_map</code></pre>
<div id="htmlwidget-2b952119e9771fd949b0" style="width:90%;height:345.6px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-2b952119e9771fd949b0">{"x":{"visdat":{"221f70e8eec1":["function () ","plotlyVisDat"]},"cur_data":"221f70e8eec1","attrs":{"221f70e8eec1":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"z":{},"text":{},"locations":{},"color":{},"colors":"viridis","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"mapType":"geo","title":"Map of World Happiness Scores","scene":{"zaxis":{"title":"world_happiness_score"}},"geo":{"domain":{"x":[0,1],"y":[0,1]}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"showSendToCloud":false},"data":[{"colorbar":{"title":"World Happiness Score","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(71,17,100,1)"],["0.0833333333333333","rgba(72,31,112,1)"],["0.125","rgba(71,45,123,1)"],["0.166666666666667","rgba(68,58,131,1)"],["0.208333333333333","rgba(64,70,136,1)"],["0.25","rgba(59,82,139,1)"],["0.291666666666667","rgba(54,93,141,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(44,114,142,1)"],["0.416666666666667","rgba(40,124,142,1)"],["0.458333333333333","rgba(36,134,142,1)"],["0.5","rgba(33,144,141,1)"],["0.541666666666667","rgba(31,154,138,1)"],["0.583333333333333","rgba(32,164,134,1)"],["0.625","rgba(39,173,129,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(71,193,110,1)"],["0.75","rgba(93,200,99,1)"],["0.791666666666667","rgba(117,208,84,1)"],["0.833333333333334","rgba(143,214,68,1)"],["0.875","rgba(170,220,50,1)"],["0.916666666666667","rgba(199,224,32,1)"],["0.958333333333334","rgba(227,228,24,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"z":[2.56690001487732,4.88269996643066,5.00509977340698,5.97469997406006,4.67679977416992,7.22279977798462,7.29419994354248,5.16480016708374,6.22730016708374,4.83279991149902,5.5398998260498,6.86350011825562,5.21600008010864,5.74749994277954,5.67409992218018,3.47889995574951,6.37559986114502,5.10150003433228,4.76870012283325,3.77530002593994,4.8484001159668,5.08489990234375,7.23210000991821,3.47589993476868,4.42269992828369,6.22849988937378,5.12389993667603,6.16340017318726,4.28859996795654,7.12139987945557,5.50470018386841,6.15899991989136,6.9109001159668,4.31099987030029,7.64559984207153,5.68919992446899,5.92519998550415,4.15140008926392,6.34829998016357,6.02180004119873,4.18620014190674,7.80870008468628,6.66379976272583,4.82929992675781,4.75059986114502,4.67259979248047,7.0757999420166,5.14799976348877,5.5149998664856,6.39890003204346,4.94929981231689,3.72079992294312,5.95319986343384,5.51039981842041,6.00040006637573,7.50449991226196,3.57329988479614,5.28560018539429,4.67239999771118,4.78480005264282,7.09369993209839,7.12860012054443,6.38740015029907,5.23330020904541,5.88980007171631,5.87080001831055,4.63339996337891,6.05789995193481,4.58300018310547,6.32520008087158,6.10209989547729,5.54150009155273,4.88859987258911,5.94999980926514,4.77150011062622,3.6528000831604,4.55789995193481,5.48880004882812,6.21549987792969,7.23750019073486,5.15980005264282,4.16559982299805,3.53800010681152,5.38430023193359,5.1975998878479,4.72930002212524,6.77279996871948,4.37459993362427,6.10129976272583,6.46500015258789,5.60750007629395,5.45620012283325,5.54610013961792,5.09479999542236,4.62360000610352,4.30800008773804,4.57110023498535,5.13719987869263,7.44890022277832,7.29960012435913,6.13710021972656,4.90959978103638,4.72410011291504,5.53550004959106,7.48799991607666,5.69329977035522,4.55280017852783,6.30480003356934,5.69210004806519,5.79680013656616,6.00600004196167,6.1862998008728,5.9109001159668,5.1943998336792,6.12370014190674,5.5460000038147,3.31229996681213,6.4064998626709,4.98080015182495,5.77820014953613,3.92639994621277,6.37709999084473,6.28060007095337,6.36339998245239,4.81409978866577,5.87239980697632,2.81660008430481,6.40089988708496,4.3270001411438,4.30810022354126,7.35349988937378,7.55989980697632,6.45539999008179,5.55569982528687,3.47620010375977,5.9987998008728,4.18720006942749,6.19189977645874,4.39219999313354,5.13180017471313,5.11910009384155,4.43200016021729,7.16450023651123,4.56069993972778,6.79080009460449,6.44010019302368,6.93959999084473,6.25759983062744,5.05319976806641,5.35349988937378,3.52740001678467,3.75939989089966,3.2992000579834],"text":["Afghanistan","Albania","Algeria","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahrain","Bangladesh","Belarus","Belgium","Benin","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Costa Rica","Croatia","Cyprus","Czech Republic","Congo, Democratic Republic of the","Denmark","Dominican Republic","Ecuador","Egypt","El Salvador","Estonia","Ethiopia","Finland","France","Gabon","Gambia, The","Georgia","Germany","Ghana","Greece","Guatemala","Guinea","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Cote d'Ivoire","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Burma","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","Cyprus","Norway","Pakistan","Palestine","Panama","Paraguay","Peru","Philippines","Poland","Portugal","Republic of Congo","Romania","Russia","Rwanda","Saudi Arabia","Senegal","Serbia","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","Korea, South","South Sudan","Spain","Sri Lanka","Swaziland","Sweden","Switzerland","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","United Kingdom","Ukraine","United Arab Emirates","Uruguay","United States","Uzbekistan","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],"locations":["AFG","ALB","DZA","ARG","ARM","AUS","AUT","AZE","BHR","BGD","BLR","BEL","BEN","BOL","BIH","BWA","BRA","BGR","BFA","BDI","KHM","CMR","CAN","CAF","TCD","CHL","CHN","COL","COM","CRI","HRV","CYP","CZE","COD","DNK","DOM","ECU","EGY","SLV","EST","ETH","FIN","FRA","GAB","GMB","GEO","DEU","GHA","GRC","GTM","GIN","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","CIV","JAM","JPN","JOR","KAZ","KEN","KSV","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NZL","NIC","NER","NGA","CYP","NOR","PAK",null,"PAN","PRY","PER","PHL","POL","PRT",null,"ROU","RUS","RWA","SAU","SEN","SRB","SLE","SGP","SVK","SVN","ZAF","KOR","SSD","ESP","LKA","SWZ","SWE","CHE","TWN","TJK","TZA","THA","TGO","TTO","TUN","TUR","TKM","UGA","GBR","UKR","ARE","URY","USA","UZB","VEN","VNM","YEM","ZMB","ZWE"],"type":"choropleth","marker":{"line":{"colorbar":{"title":"","ticklen":2},"cmin":2.56690001487732,"cmax":7.80870008468628,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(71,17,100,1)"],["0.0833333333333333","rgba(72,31,112,1)"],["0.125","rgba(71,45,123,1)"],["0.166666666666667","rgba(68,58,131,1)"],["0.208333333333333","rgba(64,70,136,1)"],["0.25","rgba(59,82,139,1)"],["0.291666666666667","rgba(54,93,141,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(44,114,142,1)"],["0.416666666666667","rgba(40,124,142,1)"],["0.458333333333333","rgba(36,134,142,1)"],["0.5","rgba(33,144,141,1)"],["0.541666666666667","rgba(31,154,138,1)"],["0.583333333333333","rgba(32,164,134,1)"],["0.625","rgba(39,173,129,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(71,193,110,1)"],["0.75","rgba(93,200,99,1)"],["0.791666666666667","rgba(117,208,84,1)"],["0.833333333333334","rgba(143,214,68,1)"],["0.875","rgba(170,220,50,1)"],["0.916666666666667","rgba(199,224,32,1)"],["0.958333333333334","rgba(227,228,24,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[2.56690001487732,4.88269996643066,5.00509977340698,5.97469997406006,4.67679977416992,7.22279977798462,7.29419994354248,5.16480016708374,6.22730016708374,4.83279991149902,5.5398998260498,6.86350011825562,5.21600008010864,5.74749994277954,5.67409992218018,3.47889995574951,6.37559986114502,5.10150003433228,4.76870012283325,3.77530002593994,4.8484001159668,5.08489990234375,7.23210000991821,3.47589993476868,4.42269992828369,6.22849988937378,5.12389993667603,6.16340017318726,4.28859996795654,7.12139987945557,5.50470018386841,6.15899991989136,6.9109001159668,4.31099987030029,7.64559984207153,5.68919992446899,5.92519998550415,4.15140008926392,6.34829998016357,6.02180004119873,4.18620014190674,7.80870008468628,6.66379976272583,4.82929992675781,4.75059986114502,4.67259979248047,7.0757999420166,5.14799976348877,5.5149998664856,6.39890003204346,4.94929981231689,3.72079992294312,5.95319986343384,5.51039981842041,6.00040006637573,7.50449991226196,3.57329988479614,5.28560018539429,4.67239999771118,4.78480005264282,7.09369993209839,7.12860012054443,6.38740015029907,5.23330020904541,5.88980007171631,5.87080001831055,4.63339996337891,6.05789995193481,4.58300018310547,6.32520008087158,6.10209989547729,5.54150009155273,4.88859987258911,5.94999980926514,4.77150011062622,3.6528000831604,4.55789995193481,5.48880004882812,6.21549987792969,7.23750019073486,5.15980005264282,4.16559982299805,3.53800010681152,5.38430023193359,5.1975998878479,4.72930002212524,6.77279996871948,4.37459993362427,6.10129976272583,6.46500015258789,5.60750007629395,5.45620012283325,5.54610013961792,5.09479999542236,4.62360000610352,4.30800008773804,4.57110023498535,5.13719987869263,7.44890022277832,7.29960012435913,6.13710021972656,4.90959978103638,4.72410011291504,5.53550004959106,7.48799991607666,5.69329977035522,4.55280017852783,6.30480003356934,5.69210004806519,5.79680013656616,6.00600004196167,6.1862998008728,5.9109001159668,5.1943998336792,6.12370014190674,5.5460000038147,3.31229996681213,6.4064998626709,4.98080015182495,5.77820014953613,3.92639994621277,6.37709999084473,6.28060007095337,6.36339998245239,4.81409978866577,5.87239980697632,2.81660008430481,6.40089988708496,4.3270001411438,4.30810022354126,7.35349988937378,7.55989980697632,6.45539999008179,5.55569982528687,3.47620010375977,5.9987998008728,4.18720006942749,6.19189977645874,4.39219999313354,5.13180017471313,5.11910009384155,4.43200016021729,7.16450023651123,4.56069993972778,6.79080009460449,6.44010019302368,6.93959999084473,6.25759983062744,5.05319976806641,5.35349988937378,3.52740001678467,3.75939989089966,3.2992000579834]}},"geo":"geo","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>hfi_map =
  plot_geo(map_df) %&gt;% 
  add_trace(z = ~human_freedom_score, text = ~countries, locations = ~code, color = ~human_freedom_score,
            colors = &#39;viridis&#39;) %&gt;% 
  layout(title = &quot;World Map of Human Freedom Index Scores&quot;) %&gt;% 
  colorbar(title = &quot;Human Freedom Score&quot;)

hfi_map</code></pre>
<div id="htmlwidget-a11180207cb0ecca7080" style="width:90%;height:345.6px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-a11180207cb0ecca7080">{"x":{"visdat":{"221f459094f6":["function () ","plotlyVisDat"]},"cur_data":"221f459094f6","attrs":{"221f459094f6":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"z":{},"text":{},"locations":{},"color":{},"colors":"viridis","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"mapType":"geo","title":"World Map of Human Freedom Index Scores","scene":{"zaxis":{"title":"human_freedom_score"}},"geo":{"domain":{"x":[0,1],"y":[0,1]}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"showSendToCloud":false},"data":[{"colorbar":{"title":"Human Freedom Score","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666666","rgba(71,17,100,1)"],["0.0833333333333333","rgba(72,31,112,1)"],["0.125","rgba(71,45,123,1)"],["0.166666666666667","rgba(68,58,131,1)"],["0.208333333333333","rgba(64,70,136,1)"],["0.25","rgba(59,82,139,1)"],["0.291666666666667","rgba(54,93,141,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(44,114,142,1)"],["0.416666666666667","rgba(40,124,142,1)"],["0.458333333333333","rgba(36,134,142,1)"],["0.5","rgba(33,144,141,1)"],["0.541666666666667","rgba(31,154,138,1)"],["0.583333333333333","rgba(32,164,134,1)"],["0.625","rgba(39,173,129,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(71,193,110,1)"],["0.75","rgba(93,200,99,1)"],["0.791666666666667","rgba(117,208,84,1)"],["0.833333333333333","rgba(143,214,68,1)"],["0.875","rgba(170,220,50,1)"],["0.916666666666667","rgba(199,224,32,1)"],["0.958333333333333","rgba(227,228,24,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"z":[7.84,4.99,6.86,7.42,8.62,8.48,6.22,6.63,5.77,6.65,8.29,6.77,6.61,7.37,7.17,6.48,7.79,6.73,5.56,7.13,5.64,8.65,5.41,5.46,8.15,6.17,6.93,7.7,7.86,7.93,8.34,5.36,8.56,6.95,6.82,4.5,6.89,8.46,5.25,8.53,8.02,5.99,5.94,7.74,8.53,6.94,7.33,7.07,5.61,6.71,6.81,8.81,7.65,8.41,6.64,6.83,5.1,4.34,8.52,7.61,8.04,6.59,7.2,8.28,6.84,6.9,6.85,6.19,6.2,8.29,6.74,6.54,6.35,4.64,8.32,8.56,7.34,6.32,6.6,6.52,6.03,8.37,5.47,7.52,6.65,6.93,7.61,7.43,6.18,6.24,5.44,6.75,6.51,8.5,8.88,6.86,5.87,6.38,8.44,5.69,7.69,6.9,7.55,6.88,7.78,8.27,5.8,8.11,6.34,6.82,5.42,6.57,7.3,5.99,8.11,8.02,7.97,7.08,8.2,8.12,6.41,6.4,8.5,8.82,8.4,5.77,6.26,6.55,6.31,6.62,6.08,6.21,6.61,8.47,6.26,6.13,7.74,8.46,3.8,6.29,4.3,6.49,5.65,5.4,7.56,7.02,6.95,6.53,5.69,7.45,7.17,6.07,6.74,6.98,5.98,6.6,6.15,7.16,4.32,7.48,3.79,6.76],"text":["Albania","Algeria","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahrain","Bangladesh","Belarus","Belgium","Benin","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Costa Rica","Croatia","Cyprus","Czech Republic","Congo, Democratic Republic of the","Denmark","Dominican Republic","Ecuador","Egypt","El Salvador","Estonia","Ethiopia","Finland","France","Gabon","Gambia, The","Georgia","Germany","Ghana","Greece","Guatemala","Guinea","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Cote d'Ivoire","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kuwait","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Macedonia","Madagascar","Malawi","Malaysia","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Burma","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","Norway","Pakistan","Panama","Paraguay","Peru","Philippines","Poland","Portugal","Republic of Congo","Romania","Russia","Rwanda","Saudi Arabia","Senegal","Serbia","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","Korea, South","Spain","Sri Lanka","Swaziland","Sweden","Switzerland","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Trinidad and Tobago","Tunisia","Turkey","Uganda","United Kingdom","Ukraine","United Arab Emirates","Uruguay","United States","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe","Angola","Bahamas, The","Barbados","Belize","Bhutan","Brunei","Cabo Verde","Fiji","Guinea-Bissau","Guyana","Kyrgyzstan","Oman","Papua New Guinea","Qatar","Seychelles","Sudan","Suriname","Syria","Timor-Leste"],"locations":["ALB","DZA","ARG","ARM","AUS","AUT","AZE","BHR","BGD","BLR","BEL","BEN","BOL","BIH","BWA","BRA","BGR","BFA","BDI","KHM","CMR","CAN","CAF","TCD","CHL","CHN","COL","CRI","HRV","CYP","CZE","COD","DNK","DOM","ECU","EGY","SLV","EST","ETH","FIN","FRA","GAB","GMB","GEO","DEU","GHA","GRC","GTM","GIN","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","CIV","JAM","JPN","JOR","KAZ","KEN","KWT","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MKD","MDG","MWI","MYS","MLI","MLT","MRT","MUS","MEX","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NZL","NIC","NER","NGA","NOR","PAK","PAN","PRY","PER","PHL","POL","PRT",null,"ROU","RUS","RWA","SAU","SEN","SRB","SLE","SGP","SVK","SVN","ZAF","KOR","ESP","LKA","SWZ","SWE","CHE","TWN","TJK","TZA","THA","TGO","TTO","TUN","TUR","UGA","GBR","UKR","ARE","URY","USA","VEN","VNM","YEM","ZMB","ZWE","AGO","BHM","BRB","BLZ","BTN","BRN","CPV","FJI","GNB","GUY","KGZ","OMN","PNG","QAT","SYC","SDN","SUR","SYR","TLS"],"type":"choropleth","marker":{"line":{"colorbar":{"title":"","ticklen":2},"cmin":3.79,"cmax":8.88,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666666","rgba(71,17,100,1)"],["0.0833333333333333","rgba(72,31,112,1)"],["0.125","rgba(71,45,123,1)"],["0.166666666666667","rgba(68,58,131,1)"],["0.208333333333333","rgba(64,70,136,1)"],["0.25","rgba(59,82,139,1)"],["0.291666666666667","rgba(54,93,141,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(44,114,142,1)"],["0.416666666666667","rgba(40,124,142,1)"],["0.458333333333333","rgba(36,134,142,1)"],["0.5","rgba(33,144,141,1)"],["0.541666666666667","rgba(31,154,138,1)"],["0.583333333333333","rgba(32,164,134,1)"],["0.625","rgba(39,173,129,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(71,193,110,1)"],["0.75","rgba(93,200,99,1)"],["0.791666666666667","rgba(117,208,84,1)"],["0.833333333333333","rgba(143,214,68,1)"],["0.875","rgba(170,220,50,1)"],["0.916666666666667","rgba(199,224,32,1)"],["0.958333333333333","rgba(227,228,24,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[7.84,4.99,6.86,7.42,8.62,8.48,6.22,6.63,5.77,6.65,8.29,6.77,6.61,7.37,7.17,6.48,7.79,6.73,5.56,7.13,5.64,8.65,5.41,5.46,8.15,6.17,6.93,7.7,7.86,7.93,8.34,5.36,8.56,6.95,6.82,4.5,6.89,8.46,5.25,8.53,8.02,5.99,5.94,7.74,8.53,6.94,7.33,7.07,5.61,6.71,6.81,8.81,7.65,8.41,6.64,6.83,5.1,4.34,8.52,7.61,8.04,6.59,7.2,8.28,6.84,6.9,6.85,6.19,6.2,8.29,6.74,6.54,6.35,4.64,8.32,8.56,7.34,6.32,6.6,6.52,6.03,8.37,5.47,7.52,6.65,6.93,7.61,7.43,6.18,6.24,5.44,6.75,6.51,8.5,8.88,6.86,5.87,6.38,8.44,5.69,7.69,6.9,7.55,6.88,7.78,8.27,5.8,8.11,6.34,6.82,5.42,6.57,7.3,5.99,8.11,8.02,7.97,7.08,8.2,8.12,6.41,6.4,8.5,8.82,8.4,5.77,6.26,6.55,6.31,6.62,6.08,6.21,6.61,8.47,6.26,6.13,7.74,8.46,3.8,6.29,4.3,6.49,5.65,5.4,7.56,7.02,6.95,6.53,5.69,7.45,7.17,6.07,6.74,6.98,5.98,6.6,6.15,7.16,4.32,7.48,3.79,6.76]}},"geo":"geo","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
